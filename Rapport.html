<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Gabriel Macé">

<title>Projet R/Julia</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Rapport_files/libs/clipboard/clipboard.min.js"></script>
<script src="Rapport_files/libs/quarto-html/quarto.js"></script>
<script src="Rapport_files/libs/quarto-html/popper.min.js"></script>
<script src="Rapport_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Rapport_files/libs/quarto-html/anchor.min.js"></script>
<link href="Rapport_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Rapport_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Rapport_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Rapport_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Rapport_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Projet R/Julia</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Gabriel Macé </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="description-du-projet" class="level2">
<h2 class="anchored" data-anchor-id="description-du-projet">Description du projet</h2>
<p>Mon projet est un projet d’apprentissage supervisé, dont le but est de prédire le taux d’émission d’une voiture en fonction de ses caractéristiques.</p>
<p>Le choix d’un projet de machine learning vient du fait que les sciences des données sont un domaine qui m’intéresse particulièrement et dans lequel je n’avais que peu eu l’occasion de réaliser un projet assez poussé. De plus, j’avais déja repéré le jeu de données utilisé, il ne manquait plus que la bonne occasion pour l’exploiter.</p>
<p>J’ai décidé de le réaliser en deux parties : Une première avec R qui a pour but une analyse des données, et une deuxième avec Julia dont le but est de créer des modèles de classification. J’ai choisi d’utiliser R et RStudio pour analyser les données car ce sont les outils que je trouve les plus pratiques pour ce genre de tâches. Ensuite j’ai décider d’utiliser Julia pour réaliser les modèles car c’est un langage que je ne connaissais pas, et que je souhaitais apprendre et comparer avec Python et R, pour cette partie j’ai utiliser VSCode et jupyter Notebook afin de simplifier et clarifier mon code.</p>
</section>
<section id="description-du-jeu-de-données" class="level2">
<h2 class="anchored" data-anchor-id="description-du-jeu-de-données">Description du jeu de données</h2>
<p>Le jeu de données <a href="https://www.kaggle.com/datasets/debajyotipodder/co2-emission-by-vehicles?select=CO2+Emissions_Canada.csv">“CO2 Emission by Vehicles”</a> est issus du site Kaggle, c’est une version compilé des données provenant du <a href="https://open.canada.ca/data/en/dataset/98f1a129-f628-4ce4-b24d-6f16bf24dd64#wb-auto-6">site officiel</a> de données ouvertes du gouvernement Canadien. Il représente 7385 ainsi que leurs caractéristiques et leur taux d’émission de CO2.</p>
<p>J’ai choisi de travailler à partir de ce jeu de données tout d’abord car les émissions de gaz à effet de serre est un sujet qui m’intéresse. Puis, il contient des données diverses : qualitatives, quantitatives discrètes et quantitatives continues, qui seront à traiter différemment, ce qui rend le travail plus intéressant. Enfin, le jeu de données ne contient pas de valeurs manquantes, ce qui facilitera son traitement et permet une meilleure qualité des modèles.</p>
</section>
<section id="partie-r" class="level2">
<h2 class="anchored" data-anchor-id="partie-r">Partie R</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>emission <span class="ot">&lt;-</span><span class="fu">read.csv</span>(<span class="st">"CO2 Emissions_Canada.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Pour cette partie, j’ai tout d’abord créer un package R : “Package_R”, mais en suite j’ai utilisé R en tant qu’utilisateur plutôt que programmeur, étant donné étant donné qu’il existe déja beaucoup de fonction permettant l’analyse statistique. J’ai seulement créé une fonction permettant de changé le nom des carburants afin de les rendre compréhensible s:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>carburant <span class="ot">&lt;-</span><span class="cf">function</span>(carb){</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(carb <span class="sc">==</span> <span class="st">"X"</span>) <span class="fu">return</span>(<span class="st">"Essence classique"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(carb <span class="sc">==</span> <span class="st">"Z"</span>) <span class="fu">return</span>(<span class="st">"Essence premium"</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(carb <span class="sc">==</span> <span class="st">"D"</span>) <span class="fu">return</span>(<span class="st">"Diesel"</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(carb <span class="sc">==</span> <span class="st">"E"</span>) <span class="fu">return</span>(<span class="st">"Ethanol"</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="fu">return</span>(<span class="st">"Gaz naturel"</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">7385</span>){</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  emission<span class="sc">$</span>Fuel.Type[i] <span class="ot">&lt;-</span> <span class="fu">carburant</span>(emission<span class="sc">$</span>Fuel.Type[i])</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Puis j’ai créé une application Shiny afin de permettre une visualisation aisée des données, chose que je n’avais jamais fait au paravant.</p>
<section id="analyse-statistiques" class="level3">
<h3 class="anchored" data-anchor-id="analyse-statistiques">Analyse statistiques</h3>
<p>J’ai tout d’abord rendu les données exploitable en renommant les variables, en transformant les variables continues en double, les variables discrètes en integer, et en rendant factorielles les variables qualitatives.</p>
<section id="analyse-univariée" class="level4">
<h4 class="anchored" data-anchor-id="analyse-univariée">Analyse univariée :</h4>
<ul>
<li>Calcul des statistiques basiques (moyennes, variances, quartiles…)</li>
<li>Graphiques et tables pour comprendre la distribution des variables. Les variables quantitatives continues du jeu de données suivent une loi normale, comme nous pouvons le voir ici avec le taux de CO2 émis par km.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">names</span>(emission)[<span class="fu">names</span>(emission)<span class="sc">==</span><span class="st">"CO2.Emissions.g.km."</span>]<span class="ot">&lt;-</span><span class="st">"CO2_emissions"</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a> emission<span class="sc">$</span>CO2_emissions<span class="ot">&lt;-</span><span class="fu">as.double</span>(emission<span class="sc">$</span>CO2_emissions)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">hist</span>(emission<span class="sc">$</span>CO2_emissions)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Rapport_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li>Test sur les lois : Malheuresement je n’ai pas pu réaliser de tests sur la normalité des distributions en utilisant le test de Shapiro Wilk car l’échantillon est trop grand.</li>
</ul>
</section>
<section id="analyse-mulitvariée" class="level4">
<h4 class="anchored" data-anchor-id="analyse-mulitvariée">Analyse mulitvariée :</h4>
<ul>
<li>Graphiques : J’ai réalisé plusieurs graphiques en analysant plusieurs variables, me permettant notamment de voir qu’il existe deux groupes lorsqu’on regarde les émissions de CO2 en fonction de la consommation : le carburant éthanol contre les autres types de carburants.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">names</span>(emission)[<span class="fu">names</span>(emission)<span class="sc">==</span><span class="st">"Fuel.Consumption.Hwy..L.100.km."</span>]<span class="ot">&lt;-</span><span class="st">"Consommation.autoroute"</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a> colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"orange"</span>,<span class="st">"black"</span>,<span class="st">"blue"</span>, <span class="st">"green"</span>,<span class="st">"red"</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">plot</span>(emission<span class="sc">$</span>Consommation.autoroute,emission<span class="sc">$</span>CO2_emissions, <span class="at">pch=</span><span class="dv">19</span>,<span class="at">col =</span> colors[<span class="fu">factor</span>(emission<span class="sc">$</span>Fuel.Type)],   <span class="at">main =</span> <span class="st">"Emission de CO2 en connaissant le type de carburant"</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a> <span class="fu">legend</span>(<span class="st">"topleft"</span>,<span class="at">legend =</span> <span class="fu">levels</span>(<span class="fu">factor</span>(emission<span class="sc">$</span>Fuel.Type)), <span class="at">pch=</span><span class="dv">19</span>,<span class="at">col =</span> colors, <span class="at">cex =</span> <span class="fl">0.75</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Rapport_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a> colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"red"</span>,<span class="st">"red"</span>,<span class="st">"red"</span>,<span class="st">"green"</span>,<span class="st">"red"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">plot</span>(emission<span class="sc">$</span>Consommation.autoroute,emission<span class="sc">$</span>CO2_emissions, <span class="at">pch=</span><span class="dv">19</span>,<span class="at">col =</span> colors[<span class="fu">factor</span>(emission<span class="sc">$</span>Fuel.Type)],   <span class="at">main =</span> <span class="st">"Emission de CO2 en connaissant le carburant"</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">legend</span>(<span class="st">"topleft"</span>,<span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"Autre"</span>,<span class="st">"Ethanol"</span>), <span class="at">pch=</span><span class="dv">19</span>,<span class="at">col =</span> <span class="fu">c</span>(<span class="st">"red"</span>,<span class="st">"green"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Rapport_files/figure-html/unnamed-chunk-4-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li>Calcul de corrélation.</li>
<li>Test anova entre les variables qualitatives et le taux d’émissions de CO2.</li>
<li><span class="math inline">\(\chi ^2\)</span> d’indépendance entre les variables quantitatives et le taux d’émissions de CO2. J’ai conscience que mon analyse statistique n’est pas complète, mais le but de mon projet était surtout d’apprendre à utiliser Julia pour la science des données.</li>
</ul>
</section>
</section>
<section id="application-shiny" class="level3">
<h3 class="anchored" data-anchor-id="application-shiny">Application Shiny</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(shiny)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">runApp</span>(<span class="st">"App"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><img src="Images/r_shiny.png" class="img-fluid" alt="Mon application Shiny:"> Le but premier de cette application, outre d’apprendre à créer une interface avec R Shiny, est d’avoir une idée des marques dont les voitures émettent le plus de CO2, et de voir que la taille du moteur et la consommation moyenne sont corrélés au taux de CO2 émis. J’ai donc regrouper les véhicules par marques, et calculé la taille moyenne des moteurs, la consommation moyenne, et le taux moyen d’émission de CO2 par marque. Ces données sont disponibles dans le tableau de droite, que l’on peu trier par ordre croissant et décroissant des 4 variables, et visibles sur le graphique de gauche, où l’on peut afficher en rouge la courbe d’une marque en la séléctionnant dans l’onglet juste en dessous.</p>
<p>Je voulais aussi intégrer les carburants, mais pour cela j’aurai du inclure tout les individus et le tableau aurait été très grand.</p>
</section>
</section>
<section id="partie-julia" class="level2">
<h2 class="anchored" data-anchor-id="partie-julia">Partie Julia</h2>
<section id="machine-learning" class="level3">
<h3 class="anchored" data-anchor-id="machine-learning">Machine learning</h3>
<section id="les-packages" class="level4">
<h4 class="anchored" data-anchor-id="les-packages">Les packages</h4>
<p>Les principaux packages que j’ai utilisé sont : * MLJ, qui permet les fonctions générales de machine learning (git, predict, transform…) * CSV, pour charger le jeu de données * DataFrames et RDatasets, pour gérer le jeu de données * JLD2 pour enregistrer mes modèles finaux * Ainsi que ceux relatifs à chaque type de modèle : DecisionTree, LIBSVM, KNNClassifier</p>
</section>
<section id="les-modèles" class="level4">
<h4 class="anchored" data-anchor-id="les-modèles">Les modèles</h4>
<p>J’ai choisit d’utilisé quatres types de modèles différents, dont trois de classification : Les k-plus proches voisins, une machine à vecteurs de support, un arbre de classification, et un arbre de régression. J’ai aussi voulu utiliser un naive Bayes, mais l’hypothèse de normalité et très forte et je n’ai pas pu tester la normalité des distributions de mes variables.</p>
<p>Pour réaliser mes modèles, j’ai d’abord découper le jeu de données en train / test afin de séléctionner les meilleurs paramètres. Pour le KNN et le SVM, j’ai centré et réduit mes données quantitatives afin de ne pas avoir de problèmes d’échelles. Pour tout les modèles sauf l’arbre de régression, j’ai transformé la variable “Emission de CO2” sous forme d’intervalles afin de pouvoir classifier. Enfin, j’ai ajouter une variable quantitative binaire, correspondant au carburant : 0 si c’est de l’éthanol, 1 sinon.</p>
<section id="knn" class="level5">
<h5 class="anchored" data-anchor-id="knn">KNN :</h5>
<p>Etant donné que le KNN ne traite que les données numériques, on ne garde que les cinq variables quantitatives (centrées et réduites) et la nouvelle variable binaire correspondant au type de carburant. J’ai essayé de faire du one hot encoding afin d’utiliser mes variables qualitatives, mais cela rajouter beaucoup de données et donc de temps de calcul pour peu de bénéfices. J’ai essayé de type de distance : Manhattan et l’euclidienne, et il s’est arrivé que la meilleur était celle de Manhattan. Avec ces paramètres, j’obtient une accuracy de 0.87, et donc un taux d’erreur de 13%, ce qui me satisfait.</p>
</section>
<section id="svm" class="level5">
<h5 class="anchored" data-anchor-id="svm">SVM :</h5>
<p>Pour le SVM, il faut utiliser que des variables quantitatives, j’ai donc utiliser du one hot encoding, mais ça a rendu le modèle moins juste. En effet, avec les variables quantitatives “one hot encodées”, j’obtiens un taux d’erreur de 0.238, alors que sans il est de 0.217, j’ai donc utilisé les mêmes variables que pour le KNN.</p>
</section>
<section id="arbre-de-classification" class="level5">
<h5 class="anchored" data-anchor-id="arbre-de-classification">Arbre de classification :</h5>
<p>Pour les arbres, les mesures de discriminations par variables ne sont pas sensibles aux problèmes d’échelles, je n’ai donc pas besoin de centrér / réduire mes données. De plus, les arbres prennet tous types de données en entrée, je peux donc utiliser tout celle de mon jeu de données. Par contre, la nouvelle variable ethanol vsles autres n’améliore pas le modèle ici, je ne l’ai donc pas utilisé dans mon modèle final, et j’obtiens une accuracy de 0.847. Les arbres permettent de connaitre l’importance des variables dans la classification, ici la consommation mixte était de loin la plus important.</p>
</section>
<section id="arbre-de-prédiction" class="level5">
<h5 class="anchored" data-anchor-id="arbre-de-prédiction">Arbre de prédiction :</h5>
<p>Ici, les variables sont les mêmes que pour l’arbre précédent, mais ici la variable séparatrice éthanol vs le reste améliore le modèle. J’ai codé des indicateurs pour me rendre compte de la justesse des valeurs prédites par l’arbre: * la distance moyenne entre la valeur prédite et la valeur réelle est 2.32. * La distance maximum est de 82.375, ce qui est assez grand. * La distance minimum est de 0, donc prédit parfaitement.</p>
<p>Ici aussi, la variable la plus importante est de loin la consommation mixte, ce qui ne m’étonnes pas car elle porte l’information de toutes les autres variables, la consommation mixte dépend des autres consommations, du poids de la voiture donc du type de modèle, de la taille du moteur, du type de carburant…</p>
</section>
</section>
<section id="les-fonctions" class="level4">
<h4 class="anchored" data-anchor-id="les-fonctions">Les fonctions</h4>
<p>J’ai crée des fonctions pour chaque afin de pouvoir entrée des données brutes et prédire directement le taux de CO2 émis. Celles correspondants au SVM et KNN prennent en entrée les variables quantitatives, même si celles si ne rentreront pas en compte dans la prédiction, elles peuvent donc être nulles. J’ai aussi remarqué que les variables qualitatives avaient peu d’influence sur la prédiction des arbres, ce n’est donc pas grave ne pas savoir le type de transmissions de sa voiture par exemple.</p>
</section>
</section>
<section id="interface-avec-dash.jl" class="level3">
<h3 class="anchored" data-anchor-id="interface-avec-dash.jl">Interface avec Dash.jl</h3>
<p>J’ai créé une interface graphique avec Dash.jl, elle se veut sobre car le plus important ici est la prédiction des données. <img src="Images/interface_julia.png" class="img-fluid" alt="Mon application Shiny:"> J’ai aussi ajouter un graphique contenant le taux d’émission de CO2 des véhicules en mettant en valeur les types de carburant. Au début je voulais faire en sorte que le véhicule prédit apparaissent dans le graphique mais je n’ai pas réussi à faire apparaitre ce point. Je pense aussi que j’aurai du gérer les noms de carburants pour faciliter l’entrée des données. Le principal pour moi a été d’apprendre à utiliser Dash.jl.</p>
</section>
<section id="création-de-package-avec-github" class="level3">
<h3 class="anchored" data-anchor-id="création-de-package-avec-github">Création de package avec github</h3>
<p>J’ai créé deux packages avec github, <a href="https://github.com/gabrielmaceee/Mon_Package_Julia.jl">un</a> ne contentant que le package julia, afin de faciliter l’importation de ce dernier dans julia, et <a href="https://github.com/gabrielmaceee/CO2_emission">un</a> contenant tout le projet. Voici un exemple de comment utiliser mon package : <img src="Images/julia_add_mpj.png" class="img-fluid" alt="1"> <img src="Images/julia_using_mpj.png" class="img-fluid" alt="2"> <img src="Images/julia_prediction.png" class="img-fluid" alt="3"></p>
</section>
</section>
<section id="problèmes-rencontrés" class="level2">
<h2 class="anchored" data-anchor-id="problèmes-rencontrés">Problèmes rencontrés :</h2>
<p>Au cours de ce porjet, j’ai rencontré peu de soucis, juste lorsque j’ai commencé à utiliser Julia, j’ai eu un problème avec l’importation de package, que j’ai résolu en supprimant Julia, défragmentant mon disque dur, et en réinstallant tout.</p>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion :</h2>
<section id="points-forts" class="level3">
<h3 class="anchored" data-anchor-id="points-forts">Points forts</h3>
<p>J’ai réussi à créer quatres modèles assez fiables, et surtout j’ai utilisé de nouveaux outils (Julia et R Shiny), que je pense avoir rapidement pris en main.</p>
</section>
<section id="points-faibles" class="level3">
<h3 class="anchored" data-anchor-id="points-faibles">Points faibles</h3>
<p>Je pense que j’aurai pu coupler Julia et R. De plus, à travers ce projet je n’ai pas réussi à utiliser tous ce que l’on a vu en cours (environnement, dispatching…).</p>
</section>
<section id="limites" class="level3">
<h3 class="anchored" data-anchor-id="limites">Limites:</h3>
<p>Le jeu de données provenant du Canada, je ne suis pas sure que mes modèles prédisent correctement le taux d’émissions de CO2 de véhicules français par exemple, même si nous avons vu que les données les plus importantes étaient celles relatives à la consommation des véhicules.</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>